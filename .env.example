# ============================================================================
# Docker Compose Environment Configuration
# Copy this file to .env and update with your settings
# ============================================================================

# ============================================================================
# Database Configuration (PostgreSQL)
# ============================================================================
POSTGRES_DB=speedrun_aml
POSTGRES_USER=speedrun
POSTGRES_PASSWORD=speedrun
POSTGRES_PORT=5432

# ============================================================================
# Cache Configuration (Redis)
# ============================================================================
REDIS_PORT=6379
REDIS_MAX_MEMORY=2gb

# ============================================================================
# Backend Configuration
# ============================================================================

# Application Settings
APP_NAME=Speed-Run AML Platform
VERSION=1.0.0

# Backend Port
BACKEND_PORT=8000

# Database Settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_ECHO=false
TESTING=false

# Redis Settings
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5
CACHE_ENABLED=true
CACHE_DEFAULT_TTL=3600

# Logging
LOG_LEVEL=INFO
LOG_FILE=

# File Upload
MAX_FILE_SIZE=10485760
UPLOAD_DIR=/tmp/uploads

# OCR Settings
OCR_ENGINE=docling
OCR_LANGUAGE=en

# Corroboration Settings
AUDIT_LOG_PATH=/tmp/corroboration_audit
ENABLE_REVERSE_IMAGE_SEARCH=false
ENABLE_ADVANCED_FORENSICS=true

# External API Keys (Optional - for enhanced features)
GOOGLE_VISION_API_KEY=
TINEYE_API_KEY=
TINEYE_API_SECRET=
BING_VISUAL_SEARCH_KEY=
HIVE_AI_API_TOKEN=
SIGHTENGINE_API_USER=
SIGHTENGINE_API_SECRET=

# Risk Scoring Thresholds
RISK_THRESHOLD_LOW=25.0
RISK_THRESHOLD_MEDIUM=50.0
RISK_THRESHOLD_HIGH=75.0

# Tampering Detection Thresholds
TAMPERING_ELA_ANOMALY_THRESHOLD=0.15
TAMPERING_ELA_VERY_LOW=15.0
TAMPERING_ELA_LOW=40.0
TAMPERING_ELA_HIGH=600.0
TAMPERING_ELA_VERY_HIGH=1000.0
TAMPERING_NOISE_RATIO_MAX=3.0
TAMPERING_EDGE_CONSISTENCY_DIFF=20
TAMPERING_RESAMPLING_FFT_PEAK_RATIO=8.0
TAMPERING_COLOR_CORR_LOW=0.85
TAMPERING_MEDIAN_FILTER_THRESHOLD=1.0
TAMPERING_CLONE_REGION_SIZE=32
TAMPERING_CLONE_DUPLICATE_RATIO_THRESHOLD=0.05
TAMPERING_CLONE_DISTANCE_MIN_BLOCKS=2
TAMPERING_COMPRESSION_VARIANCE_THRESHOLD=1000.0

# Risk Score Normalization
RISK_NORMALIZATION_REDUCTION_LOW=0.4
RISK_NORMALIZATION_REDUCTION_MEDIUM=0.5
RISK_NORMALIZATION_REDUCTION_HIGH=0.65

# ============================================================================
# Frontend Configuration
# ============================================================================

# Frontend Port
FRONTEND_PORT=3000

# API Configuration
NEXT_PUBLIC_BACKEND_URL=http://localhost:8000
NEXT_PUBLIC_API_VERSION=v1
NEXT_PUBLIC_API_TIMEOUT=30000
NEXT_PUBLIC_API_RETRY_ATTEMPTS=3

# Feature Flags
NEXT_PUBLIC_USE_BACKEND_API=true
NEXT_PUBLIC_ENABLE_DOCUMENT_UPLOAD=true
NEXT_PUBLIC_ENABLE_AI_DETECTION=true
NEXT_PUBLIC_ENABLE_FORENSIC_ANALYSIS=true
NEXT_PUBLIC_ENABLE_REVERSE_IMAGE_SEARCH=false
NEXT_PUBLIC_ENABLE_REALTIME_ALERTS=true
NEXT_PUBLIC_ENABLE_KANBAN_BOARD=true

# UI Configuration
NEXT_PUBLIC_APP_NAME=Speed-Run AML Platform
NEXT_PUBLIC_APP_VERSION=1.0.0
NEXT_PUBLIC_ITEMS_PER_PAGE=10
NEXT_PUBLIC_AUTO_REFRESH_INTERVAL=30000
NEXT_PUBLIC_MAX_FILE_SIZE=10485760
NEXT_PUBLIC_ALLOWED_FILE_TYPES=.pdf,.png,.jpg,.jpeg,.tiff,.bmp,.docx

# Development Settings
NEXT_PUBLIC_DEBUG=false
NEXT_PUBLIC_ENABLE_DEV_TOOLS=false
NEXT_PUBLIC_LOG_API_CALLS=false
NEXT_PUBLIC_SHOW_PERFORMANCE_METRICS=false

# Authentication
NEXT_PUBLIC_ENABLE_AUTH=false
NEXT_PUBLIC_SESSION_TIMEOUT=30

# ============================================================================
# Admin Tools (Optional - start with --profile tools)
# ============================================================================

# pgAdmin Configuration
PGADMIN_EMAIL=admin@speedrun.com
PGADMIN_PASSWORD=admin
PGADMIN_PORT=5050

# Redis Commander Configuration
REDIS_COMMANDER_PORT=8081

# ============================================================================
# Production Settings (Uncomment for production)
# ============================================================================

# Use strong passwords in production
# POSTGRES_PASSWORD=<STRONG_PASSWORD>
# PGADMIN_PASSWORD=<STRONG_PASSWORD>

# Update backend URL for production
# NEXT_PUBLIC_BACKEND_URL=https://api.yourdomain.com

# Enable authentication in production
# NEXT_PUBLIC_ENABLE_AUTH=true

# Disable debug mode in production
# NEXT_PUBLIC_DEBUG=false
# LOG_LEVEL=WARNING

# ============================================================================
# Notes
# ============================================================================

# 1. This file should NOT be committed to version control
# 2. Copy to .env for use with docker-compose
# 3. See backend/.env.example and frontend/.env.example for detailed documentation
# 4. All NEXT_PUBLIC_* variables are exposed to the browser
# 5. Changes to .env require restarting Docker containers
# 6. For additional customization, see individual service documentation
